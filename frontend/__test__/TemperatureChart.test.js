import React from 'react';
import renderer from 'react-test-renderer';
import { MockedProvider } from '@apollo/react-testing';
import wait from 'waait';
import { TemperatureBySensorChart, TEMP_SENSOR_QUERY } from '../src/components/TemperatureBySensorChart';
// import { cleanup } from '@testing-library/react';
import 'regenerator-runtime/runtime';
import 'core-js/stable';

// afterEach(cleanup);

// jest.mock('../src/components/TemperatureBySensorChart', () => MockComponent);
const mocks = [
    {
        request: {
            query: TEMP_SENSOR_QUERY
        },
        variables: {
            ids: [4],
            data_type: "temperature",
        },
        result: {
            data: {
                dataPointsByType:
                    [
                        {
                            "id": "6",
                            "date": "2019-07-13 12:49",
                            "value": 52.5
                        },
                        {
                            "id": "7",
                            "date": "2019-07-13 13:04",
                            "value": 63.7
                        },
                        {
                            "id": "47",
                            "date": "2019-07-13 23:04",
                            "value": 67.7
                        },
                        {
                            "id": "58",
                            "date": "2019-07-14 1:49",
                            "value": 57.8
                        },
                        {
                            "id": "59",
                            "date": "2019-07-14 2:04",
                            "value": 63.4
                        },
                        {
                            "id": "61",
                            "date": "2019-07-14 2:34",
                            "value": 67
                        },
                        {
                            "id": "64",
                            "date": "2019-07-14 3:19",
                            "value": 55.2
                        },
                        {
                            "id": "66",
                            "date": "2019-07-14 3:49",
                            "value": 57.5
                        },
                        {
                            "id": "105",
                            "date": "2019-07-14 13:34",
                            "value": 56.5
                        },
                        {
                            "id": "112",
                            "date": "2019-07-14 15:19",
                            "value": 61
                        },
                        {
                            "id": "121",
                            "date": "2019-07-14 17:34",
                            "value": 48.5
                        },
                        {
                            "id": "126",
                            "date": "2019-07-14 18:49",
                            "value": 60.7
                        },
                        {
                            "id": "129",
                            "date": "2019-07-14 19:34",
                            "value": 66.9
                        },
                        {
                            "id": "134",
                            "date": "2019-07-14 20:49",
                            "value": 61.7
                        },
                        {
                            "id": "147",
                            "date": "2019-07-15 0:04",
                            "value": 54.1
                        },
                        {
                            "id": "166",
                            "date": "2019-07-15 4:49",
                            "value": 54.4
                        },
                        {
                            "id": "173",
                            "date": "2019-07-15 6:34",
                            "value": 63
                        },
                        {
                            "id": "180",
                            "date": "2019-07-15 8:19",
                            "value": 50.1
                        },
                        {
                            "id": "185",
                            "date": "2019-07-15 9:34",
                            "value": 56.8
                        },
                        {
                            "id": "186",
                            "date": "2019-07-15 9:49",
                            "value": 51.9
                        },
                        {
                            "id": "187",
                            "date": "2019-07-15 10:04",
                            "value": 53.6
                        },
                        {
                            "id": "192",
                            "date": "2019-07-15 11:19",
                            "value": 58.7
                        },
                        {
                            "id": "196",
                            "date": "2019-07-15 12:19",
                            "value": 49.6
                        },
                        {
                            "id": "215",
                            "date": "2019-07-15 17:04",
                            "value": 64.9
                        },
                        {
                            "id": "230",
                            "date": "2019-07-15 20:49",
                            "value": 50.9
                        },
                        {
                            "id": "233",
                            "date": "2019-07-15 21:34",
                            "value": 66.9
                        },
                        {
                            "id": "236",
                            "date": "2019-07-15 22:19",
                            "value": 69.6
                        },
                        {
                            "id": "254",
                            "date": "2019-07-16 2:49",
                            "value": 49.9
                        },
                        {
                            "id": "257",
                            "date": "2019-07-16 3:34",
                            "value": 66.9
                        },
                        {
                            "id": "269",
                            "date": "2019-07-16 6:34",
                            "value": 61.7
                        },
                        {
                            "id": "280",
                            "date": "2019-07-16 9:19",
                            "value": 66.2
                        },
                        {
                            "id": "281",
                            "date": "2019-07-16 9:34",
                            "value": 67.4
                        },
                        {
                            "id": "287",
                            "date": "2019-07-16 11:04",
                            "value": 62.9
                        },
                        {
                            "id": "290",
                            "date": "2019-07-16 11:49",
                            "value": 57.5
                        },
                        {
                            "id": "295",
                            "date": "2019-07-16 13:04",
                            "value": 58.5
                        },
                        {
                            "id": "297",
                            "date": "2019-07-16 13:34",
                            "value": 60.4
                        },
                        {
                            "id": "299",
                            "date": "2019-07-16 14:04",
                            "value": 53.8
                        },
                        {
                            "id": "304",
                            "date": "2019-07-16 15:19",
                            "value": 65.6
                        },
                        {
                            "id": "308",
                            "date": "2019-07-16 16:19",
                            "value": 59.4
                        },
                        {
                            "id": "327",
                            "date": "2019-07-16 21:04",
                            "value": 52.1
                        },
                        {
                            "id": "328",
                            "date": "2019-07-16 21:19",
                            "value": 53.9
                        },
                        {
                            "id": "330",
                            "date": "2019-07-16 21:49",
                            "value": 62
                        },
                        {
                            "id": "331",
                            "date": "2019-07-16 22:04",
                            "value": 67.7
                        },
                        {
                            "id": "343",
                            "date": "2019-07-17 1:04",
                            "value": 67
                        },
                        {
                            "id": "351",
                            "date": "2019-07-17 3:04",
                            "value": 53.2
                        },
                        {
                            "id": "353",
                            "date": "2019-07-17 3:34",
                            "value": 48.7
                        },
                        {
                            "id": "356",
                            "date": "2019-07-17 4:19",
                            "value": 55
                        },
                        {
                            "id": "357",
                            "date": "2019-07-17 4:34",
                            "value": 51.7
                        },
                        {
                            "id": "359",
                            "date": "2019-07-17 5:04",
                            "value": 57.9
                        },
                        {
                            "id": "363",
                            "date": "2019-07-17 6:04",
                            "value": 54.9
                        },
                        {
                            "id": "370",
                            "date": "2019-07-17 7:49",
                            "value": 53.7
                        },
                        {
                            "id": "373",
                            "date": "2019-07-17 8:34",
                            "value": 58.4
                        },
                        {
                            "id": "380",
                            "date": "2019-07-17 10:19",
                            "value": 62.1
                        },
                        {
                            "id": "388",
                            "date": "2019-07-17 12:19",
                            "value": 69.4
                        },
                        {
                            "id": "395",
                            "date": "2019-07-17 14:04",
                            "value": 59.6
                        },
                        {
                            "id": "401",
                            "date": "2019-07-17 15:34",
                            "value": 68.7
                        },
                        {
                            "id": "403",
                            "date": "2019-07-17 16:04",
                            "value": 52.5
                        },
                        {
                            "id": "408",
                            "date": "2019-07-17 17:19",
                            "value": 59.6
                        },
                        {
                            "id": "416",
                            "date": "2019-07-17 19:19",
                            "value": 54.6
                        },
                        {
                            "id": "423",
                            "date": "2019-07-17 21:04",
                            "value": 64.4
                        },
                        {
                            "id": "436",
                            "date": "2019-07-18 0:19",
                            "value": 56
                        },
                        {
                            "id": "454",
                            "date": "2019-07-18 4:49",
                            "value": 55.9
                        },
                        {
                            "id": "473",
                            "date": "2019-07-18 9:34",
                            "value": 67.8
                        },
                        {
                            "id": "487",
                            "date": "2019-07-18 13:04",
                            "value": 50.9
                        },
                        {
                            "id": "496",
                            "date": "2019-07-18 15:19",
                            "value": 60.8
                        },
                        {
                            "id": "500",
                            "date": "2019-07-18 16:19",
                            "value": 51.8
                        },
                        {
                            "id": "503",
                            "date": "2019-07-18 17:04",
                            "value": 66.3
                        },
                        {
                            "id": "507",
                            "date": "2019-07-18 18:04",
                            "value": 55.5
                        },
                        {
                            "id": "508",
                            "date": "2019-07-18 18:19",
                            "value": 67.5
                        },
                        {
                            "id": "513",
                            "date": "2019-07-18 19:34",
                            "value": 61.3
                        },
                        {
                            "id": "528",
                            "date": "2019-07-18 23:19",
                            "value": 60.3
                        },
                        {
                            "id": "532",
                            "date": "2019-07-19 0:19",
                            "value": 64.5
                        },
                        {
                            "id": "537",
                            "date": "2019-07-19 1:34",
                            "value": 59.7
                        },
                        {
                            "id": "554",
                            "date": "2019-07-19 5:49",
                            "value": 54.7
                        },
                        {
                            "id": "558",
                            "date": "2019-07-19 6:49",
                            "value": 61.5
                        },
                        {
                            "id": "573",
                            "date": "2019-07-19 10:34",
                            "value": 53.7
                        },
                        {
                            "id": "586",
                            "date": "2019-07-19 13:49",
                            "value": 66.9
                        },
                        {
                            "id": "594",
                            "date": "2019-07-19 15:49",
                            "value": 69.3
                        },
                        {
                            "id": "610",
                            "date": "2019-07-19 19:49",
                            "value": 54.6
                        },
                        {
                            "id": "640",
                            "date": "2019-07-20 3:19",
                            "value": 61
                        },
                        {
                            "id": "654",
                            "date": "2019-07-20 6:49",
                            "value": 48.9
                        },
                        {
                            "id": "664",
                            "date": "2019-07-20 9:19",
                            "value": 67.6
                        },
                        {
                            "id": "665",
                            "date": "2019-07-20 9:34",
                            "value": 63.5
                        },
                        {
                            "id": "669",
                            "date": "2019-07-20 10:34",
                            "value": 56.4
                        },
                        {
                            "id": "679",
                            "date": "2019-07-20 13:04",
                            "value": 52.9
                        },
                        {
                            "id": "683",
                            "date": "2019-07-20 14:04",
                            "value": 57.3
                        },
                        {
                            "id": "684",
                            "date": "2019-07-20 14:19",
                            "value": 51.6
                        },
                        {
                            "id": "708",
                            "date": "2019-07-20 20:19",
                            "value": 50.3
                        },
                        {
                            "id": "710",
                            "date": "2019-07-20 20:49",
                            "value": 66.4
                        },
                        {
                            "id": "713",
                            "date": "2019-07-20 21:34",
                            "value": 52.7
                        },
                        {
                            "id": "716",
                            "date": "2019-07-20 22:19",
                            "value": 64.8
                        },
                        {
                            "id": "721",
                            "date": "2019-07-20 23:34",
                            "value": 64.1
                        },
                        {
                            "id": "724",
                            "date": "2019-07-21 0:19",
                            "value": 56.2
                        },
                        {
                            "id": "725",
                            "date": "2019-07-21 0:34",
                            "value": 58.9
                        },
                        {
                            "id": "731",
                            "date": "2019-07-21 2:04",
                            "value": 61.1
                        },
                        {
                            "id": "736",
                            "date": "2019-07-21 3:19",
                            "value": 65.2
                        },
                        {
                            "id": "750",
                            "date": "2019-07-21 6:49",
                            "value": 59.5
                        },
                        {
                            "id": "754",
                            "date": "2019-07-21 7:49",
                            "value": 53.7
                        },
                        {
                            "id": "762",
                            "date": "2019-07-21 9:49",
                            "value": 61.6
                        },
                        {
                            "id": "768",
                            "date": "2019-07-21 11:19",
                            "value": 49.3
                        },
                        {
                            "id": "776",
                            "date": "2019-07-21 13:19",
                            "value": 63.4
                        },
                        {
                            "id": "781",
                            "date": "2019-07-21 14:34",
                            "value": 58.7
                        },
                        {
                            "id": "796",
                            "date": "2019-07-21 18:19",
                            "value": 58.7
                        },
                        {
                            "id": "798",
                            "date": "2019-07-21 18:49",
                            "value": 52.2
                        },
                        {
                            "id": "803",
                            "date": "2019-07-21 20:04",
                            "value": 68.2
                        },
                        {
                            "id": "805",
                            "date": "2019-07-21 20:34",
                            "value": 53.3
                        },
                        {
                            "id": "807",
                            "date": "2019-07-21 21:04",
                            "value": 66.9
                        },
                        {
                            "id": "810",
                            "date": "2019-07-21 21:49",
                            "value": 57.5
                        },
                        {
                            "id": "812",
                            "date": "2019-07-21 22:19",
                            "value": 65
                        },
                        {
                            "id": "817",
                            "date": "2019-07-21 23:34",
                            "value": 50.8
                        },
                        {
                            "id": "818",
                            "date": "2019-07-21 23:49",
                            "value": 53.1
                        },
                        {
                            "id": "820",
                            "date": "2019-07-22 0:19",
                            "value": 66.1
                        },
                        {
                            "id": "823",
                            "date": "2019-07-22 1:04",
                            "value": 58.4
                        },
                        {
                            "id": "841",
                            "date": "2019-07-22 5:34",
                            "value": 64
                        },
                        {
                            "id": "850",
                            "date": "2019-07-22 7:49",
                            "value": 69.2
                        },
                        {
                            "id": "851",
                            "date": "2019-07-22 8:04",
                            "value": 67.6
                        },
                        {
                            "id": "858",
                            "date": "2019-07-22 9:49",
                            "value": 53.4
                        },
                        {
                            "id": "862",
                            "date": "2019-07-22 10:49",
                            "value": 49.6
                        },
                        {
                            "id": "868",
                            "date": "2019-07-22 12:19",
                            "value": 67.4
                        },
                        {
                            "id": "887",
                            "date": "2019-07-22 17:04",
                            "value": 57.9
                        },
                        {
                            "id": "913",
                            "date": "2019-07-22 23:34",
                            "value": 54.8
                        },
                        {
                            "id": "914",
                            "date": "2019-07-22 23:49",
                            "value": 56.8
                        },
                        {
                            "id": "921",
                            "date": "2019-07-23 1:34",
                            "value": 53.4
                        },
                        {
                            "id": "931",
                            "date": "2019-07-23 4:04",
                            "value": 68.5
                        },
                        {
                            "id": "949",
                            "date": "2019-07-23 8:34",
                            "value": 66.8
                        },
                        {
                            "id": "951",
                            "date": "2019-07-23 9:04",
                            "value": 53.9
                        },
                        {
                            "id": "952",
                            "date": "2019-07-23 9:19",
                            "value": 66.3
                        },
                        {
                            "id": "972",
                            "date": "2019-07-23 14:19",
                            "value": 67.3
                        },
                        {
                            "id": "989",
                            "date": "2019-07-23 18:34",
                            "value": 55.8
                        },
                        {
                            "id": "1004",
                            "date": "2019-07-23 22:19",
                            "value": 66.1
                        },
                        {
                            "id": "1005",
                            "date": "2019-07-23 22:34",
                            "value": 58.7
                        },
                        {
                            "id": "1012",
                            "date": "2019-07-24 0:19",
                            "value": 51.2
                        }
                    ]
            },
        },
    }
]

function createNodeMock() {
    const doc = document.implementation.createHTMLDocument();
    return { parentElement: doc.body };
  }
  
it('renders without crashing', async () => {
    const options = {createNodeMock}

    let tree;

    // renderer.act(() => {
        tree = renderer.create(<MockedProvider mocks={mocks} addTypename={false}>
            <TemperatureBySensorChart ids={[4]} />
        </MockedProvider>, options)

    // })

    await renderer.act(async () => {
        await wait(0); // wait for response
    
      });
    
    tree = tree.toJSON();
    expect(tree).toMatchSnapshot();
})


test('displays the right things', async () => {
    const options = {createNodeMock};

    const mocks = [
        {
            request: {
                query: TEMP_SENSOR_QUERY
            },
            variables: {
                ids: [4],
                data_type: 'temperature',
            },
            result: {
                data: {
                    dataPointsByType:
                        [
                            {
                                "id": "6",
                                "date": "2019-07-13 12:49",
                                "value": 52.5
                            },
                            {
                                "id": "7",
                                "date": "2019-07-13 13:04",
                                "value": 63.7
                            },
                            {
                                "id": "47",
                                "date": "2019-07-13 23:04",
                                "value": 67.7
                            },
                            {
                                "id": "58",
                                "date": "2019-07-14 1:49",
                                "value": 57.8
                            },
                            {
                                "id": "59",
                                "date": "2019-07-14 2:04",
                                "value": 63.4
                            },
                            {
                                "id": "61",
                                "date": "2019-07-14 2:34",
                                "value": 67
                            },
                            {
                                "id": "64",
                                "date": "2019-07-14 3:19",
                                "value": 55.2
                            },
                            {
                                "id": "66",
                                "date": "2019-07-14 3:49",
                                "value": 57.5
                            },
                            {
                                "id": "105",
                                "date": "2019-07-14 13:34",
                                "value": 56.5
                            },
                            {
                                "id": "112",
                                "date": "2019-07-14 15:19",
                                "value": 61
                            },
                            {
                                "id": "121",
                                "date": "2019-07-14 17:34",
                                "value": 48.5
                            },
                            {
                                "id": "126",
                                "date": "2019-07-14 18:49",
                                "value": 60.7
                            },
                            {
                                "id": "129",
                                "date": "2019-07-14 19:34",
                                "value": 66.9
                            },
                            {
                                "id": "134",
                                "date": "2019-07-14 20:49",
                                "value": 61.7
                            },
                            {
                                "id": "147",
                                "date": "2019-07-15 0:04",
                                "value": 54.1
                            },
                            {
                                "id": "166",
                                "date": "2019-07-15 4:49",
                                "value": 54.4
                            },
                            {
                                "id": "173",
                                "date": "2019-07-15 6:34",
                                "value": 63
                            },
                            {
                                "id": "180",
                                "date": "2019-07-15 8:19",
                                "value": 50.1
                            },
                            {
                                "id": "185",
                                "date": "2019-07-15 9:34",
                                "value": 56.8
                            },
                            {
                                "id": "186",
                                "date": "2019-07-15 9:49",
                                "value": 51.9
                            },
                            {
                                "id": "187",
                                "date": "2019-07-15 10:04",
                                "value": 53.6
                            },
                            {
                                "id": "192",
                                "date": "2019-07-15 11:19",
                                "value": 58.7
                            },
                            {
                                "id": "196",
                                "date": "2019-07-15 12:19",
                                "value": 49.6
                            },
                            {
                                "id": "215",
                                "date": "2019-07-15 17:04",
                                "value": 64.9
                            },
                            {
                                "id": "230",
                                "date": "2019-07-15 20:49",
                                "value": 50.9
                            },
                            {
                                "id": "233",
                                "date": "2019-07-15 21:34",
                                "value": 66.9
                            },
                            {
                                "id": "236",
                                "date": "2019-07-15 22:19",
                                "value": 69.6
                            },
                            {
                                "id": "254",
                                "date": "2019-07-16 2:49",
                                "value": 49.9
                            },
                            {
                                "id": "257",
                                "date": "2019-07-16 3:34",
                                "value": 66.9
                            },
                            {
                                "id": "269",
                                "date": "2019-07-16 6:34",
                                "value": 61.7
                            },
                            {
                                "id": "280",
                                "date": "2019-07-16 9:19",
                                "value": 66.2
                            },
                            {
                                "id": "281",
                                "date": "2019-07-16 9:34",
                                "value": 67.4
                            },
                            {
                                "id": "287",
                                "date": "2019-07-16 11:04",
                                "value": 62.9
                            },
                            {
                                "id": "290",
                                "date": "2019-07-16 11:49",
                                "value": 57.5
                            },
                            {
                                "id": "295",
                                "date": "2019-07-16 13:04",
                                "value": 58.5
                            },
                            {
                                "id": "297",
                                "date": "2019-07-16 13:34",
                                "value": 60.4
                            },
                            {
                                "id": "299",
                                "date": "2019-07-16 14:04",
                                "value": 53.8
                            },
                            {
                                "id": "304",
                                "date": "2019-07-16 15:19",
                                "value": 65.6
                            },
                            {
                                "id": "308",
                                "date": "2019-07-16 16:19",
                                "value": 59.4
                            },
                            {
                                "id": "327",
                                "date": "2019-07-16 21:04",
                                "value": 52.1
                            },
                            {
                                "id": "328",
                                "date": "2019-07-16 21:19",
                                "value": 53.9
                            },
                            {
                                "id": "330",
                                "date": "2019-07-16 21:49",
                                "value": 62
                            },
                            {
                                "id": "331",
                                "date": "2019-07-16 22:04",
                                "value": 67.7
                            },
                            {
                                "id": "343",
                                "date": "2019-07-17 1:04",
                                "value": 67
                            },
                            {
                                "id": "351",
                                "date": "2019-07-17 3:04",
                                "value": 53.2
                            },
                            {
                                "id": "353",
                                "date": "2019-07-17 3:34",
                                "value": 48.7
                            },
                            {
                                "id": "356",
                                "date": "2019-07-17 4:19",
                                "value": 55
                            },
                            {
                                "id": "357",
                                "date": "2019-07-17 4:34",
                                "value": 51.7
                            },
                            {
                                "id": "359",
                                "date": "2019-07-17 5:04",
                                "value": 57.9
                            },
                            {
                                "id": "363",
                                "date": "2019-07-17 6:04",
                                "value": 54.9
                            },
                            {
                                "id": "370",
                                "date": "2019-07-17 7:49",
                                "value": 53.7
                            },
                            {
                                "id": "373",
                                "date": "2019-07-17 8:34",
                                "value": 58.4
                            },
                            {
                                "id": "380",
                                "date": "2019-07-17 10:19",
                                "value": 62.1
                            },
                            {
                                "id": "388",
                                "date": "2019-07-17 12:19",
                                "value": 69.4
                            },
                            {
                                "id": "395",
                                "date": "2019-07-17 14:04",
                                "value": 59.6
                            },
                            {
                                "id": "401",
                                "date": "2019-07-17 15:34",
                                "value": 68.7
                            },
                            {
                                "id": "403",
                                "date": "2019-07-17 16:04",
                                "value": 52.5
                            },
                            {
                                "id": "408",
                                "date": "2019-07-17 17:19",
                                "value": 59.6
                            },
                            {
                                "id": "416",
                                "date": "2019-07-17 19:19",
                                "value": 54.6
                            },
                            {
                                "id": "423",
                                "date": "2019-07-17 21:04",
                                "value": 64.4
                            },
                            {
                                "id": "436",
                                "date": "2019-07-18 0:19",
                                "value": 56
                            },
                            {
                                "id": "454",
                                "date": "2019-07-18 4:49",
                                "value": 55.9
                            },
                            {
                                "id": "473",
                                "date": "2019-07-18 9:34",
                                "value": 67.8
                            },
                            {
                                "id": "487",
                                "date": "2019-07-18 13:04",
                                "value": 50.9
                            },
                            {
                                "id": "496",
                                "date": "2019-07-18 15:19",
                                "value": 60.8
                            },
                            {
                                "id": "500",
                                "date": "2019-07-18 16:19",
                                "value": 51.8
                            },
                            {
                                "id": "503",
                                "date": "2019-07-18 17:04",
                                "value": 66.3
                            },
                            {
                                "id": "507",
                                "date": "2019-07-18 18:04",
                                "value": 55.5
                            },
                            {
                                "id": "508",
                                "date": "2019-07-18 18:19",
                                "value": 67.5
                            },
                            {
                                "id": "513",
                                "date": "2019-07-18 19:34",
                                "value": 61.3
                            },
                            {
                                "id": "528",
                                "date": "2019-07-18 23:19",
                                "value": 60.3
                            },
                            {
                                "id": "532",
                                "date": "2019-07-19 0:19",
                                "value": 64.5
                            },
                            {
                                "id": "537",
                                "date": "2019-07-19 1:34",
                                "value": 59.7
                            },
                            {
                                "id": "554",
                                "date": "2019-07-19 5:49",
                                "value": 54.7
                            },
                            {
                                "id": "558",
                                "date": "2019-07-19 6:49",
                                "value": 61.5
                            },
                            {
                                "id": "573",
                                "date": "2019-07-19 10:34",
                                "value": 53.7
                            },
                            {
                                "id": "586",
                                "date": "2019-07-19 13:49",
                                "value": 66.9
                            },
                            {
                                "id": "594",
                                "date": "2019-07-19 15:49",
                                "value": 69.3
                            },
                            {
                                "id": "610",
                                "date": "2019-07-19 19:49",
                                "value": 54.6
                            },
                            {
                                "id": "640",
                                "date": "2019-07-20 3:19",
                                "value": 61
                            },
                            {
                                "id": "654",
                                "date": "2019-07-20 6:49",
                                "value": 48.9
                            },
                            {
                                "id": "664",
                                "date": "2019-07-20 9:19",
                                "value": 67.6
                            },
                            {
                                "id": "665",
                                "date": "2019-07-20 9:34",
                                "value": 63.5
                            },
                            {
                                "id": "669",
                                "date": "2019-07-20 10:34",
                                "value": 56.4
                            },
                            {
                                "id": "679",
                                "date": "2019-07-20 13:04",
                                "value": 52.9
                            },
                            {
                                "id": "683",
                                "date": "2019-07-20 14:04",
                                "value": 57.3
                            },
                            {
                                "id": "684",
                                "date": "2019-07-20 14:19",
                                "value": 51.6
                            },
                            {
                                "id": "708",
                                "date": "2019-07-20 20:19",
                                "value": 50.3
                            },
                            {
                                "id": "710",
                                "date": "2019-07-20 20:49",
                                "value": 66.4
                            },
                            {
                                "id": "713",
                                "date": "2019-07-20 21:34",
                                "value": 52.7
                            },
                            {
                                "id": "716",
                                "date": "2019-07-20 22:19",
                                "value": 64.8
                            },
                            {
                                "id": "721",
                                "date": "2019-07-20 23:34",
                                "value": 64.1
                            },
                            {
                                "id": "724",
                                "date": "2019-07-21 0:19",
                                "value": 56.2
                            },
                            {
                                "id": "725",
                                "date": "2019-07-21 0:34",
                                "value": 58.9
                            },
                            {
                                "id": "731",
                                "date": "2019-07-21 2:04",
                                "value": 61.1
                            },
                            {
                                "id": "736",
                                "date": "2019-07-21 3:19",
                                "value": 65.2
                            },
                            {
                                "id": "750",
                                "date": "2019-07-21 6:49",
                                "value": 59.5
                            },
                            {
                                "id": "754",
                                "date": "2019-07-21 7:49",
                                "value": 53.7
                            },
                            {
                                "id": "762",
                                "date": "2019-07-21 9:49",
                                "value": 61.6
                            },
                            {
                                "id": "768",
                                "date": "2019-07-21 11:19",
                                "value": 49.3
                            },
                            {
                                "id": "776",
                                "date": "2019-07-21 13:19",
                                "value": 63.4
                            },
                            {
                                "id": "781",
                                "date": "2019-07-21 14:34",
                                "value": 58.7
                            },
                            {
                                "id": "796",
                                "date": "2019-07-21 18:19",
                                "value": 58.7
                            },
                            {
                                "id": "798",
                                "date": "2019-07-21 18:49",
                                "value": 52.2
                            },
                            {
                                "id": "803",
                                "date": "2019-07-21 20:04",
                                "value": 68.2
                            },
                            {
                                "id": "805",
                                "date": "2019-07-21 20:34",
                                "value": 53.3
                            },
                            {
                                "id": "807",
                                "date": "2019-07-21 21:04",
                                "value": 66.9
                            },
                            {
                                "id": "810",
                                "date": "2019-07-21 21:49",
                                "value": 57.5
                            },
                            {
                                "id": "812",
                                "date": "2019-07-21 22:19",
                                "value": 65
                            },
                            {
                                "id": "817",
                                "date": "2019-07-21 23:34",
                                "value": 50.8
                            },
                            {
                                "id": "818",
                                "date": "2019-07-21 23:49",
                                "value": 53.1
                            },
                            {
                                "id": "820",
                                "date": "2019-07-22 0:19",
                                "value": 66.1
                            },
                            {
                                "id": "823",
                                "date": "2019-07-22 1:04",
                                "value": 58.4
                            },
                            {
                                "id": "841",
                                "date": "2019-07-22 5:34",
                                "value": 64
                            },
                            {
                                "id": "850",
                                "date": "2019-07-22 7:49",
                                "value": 69.2
                            },
                            {
                                "id": "851",
                                "date": "2019-07-22 8:04",
                                "value": 67.6
                            },
                            {
                                "id": "858",
                                "date": "2019-07-22 9:49",
                                "value": 53.4
                            },
                            {
                                "id": "862",
                                "date": "2019-07-22 10:49",
                                "value": 49.6
                            },
                            {
                                "id": "868",
                                "date": "2019-07-22 12:19",
                                "value": 67.4
                            },
                            {
                                "id": "887",
                                "date": "2019-07-22 17:04",
                                "value": 57.9
                            },
                            {
                                "id": "913",
                                "date": "2019-07-22 23:34",
                                "value": 54.8
                            },
                            {
                                "id": "914",
                                "date": "2019-07-22 23:49",
                                "value": 56.8
                            },
                            {
                                "id": "921",
                                "date": "2019-07-23 1:34",
                                "value": 53.4
                            },
                            {
                                "id": "931",
                                "date": "2019-07-23 4:04",
                                "value": 68.5
                            },
                            {
                                "id": "949",
                                "date": "2019-07-23 8:34",
                                "value": 66.8
                            },
                            {
                                "id": "951",
                                "date": "2019-07-23 9:04",
                                "value": 53.9
                            },
                            {
                                "id": "952",
                                "date": "2019-07-23 9:19",
                                "value": 66.3
                            },
                            {
                                "id": "972",
                                "date": "2019-07-23 14:19",
                                "value": 67.3
                            },
                            {
                                "id": "989",
                                "date": "2019-07-23 18:34",
                                "value": 55.8
                            },
                            {
                                "id": "1004",
                                "date": "2019-07-23 22:19",
                                "value": 66.1
                            },
                            {
                                "id": "1005",
                                "date": "2019-07-23 22:34",
                                "value": 58.7
                            },
                            {
                                "id": "1012",
                                "date": "2019-07-24 0:19",
                                "value": 51.2
                            }
                        ]
                },
            },
        }
    ]

    // let wrapper;

    // await renderer.act(() => {
        const wrapper = renderer.create(
            <MockedProvider mocks={mocks} addTypename={false}>
                <TemperatureBySensorChart ids={[4]} data_type="temperature"/>
            </MockedProvider>, options
            );
    // })

    // console.log(wrapper);

    //necessary to get beyond "Loading..." screen
    await renderer.act(async () => {
        await wait(0); // wait for response
    
      });
    
    let result = wrapper.toJSON();

    // expect(wrapper.update().find(MockComponent).prop('dataPointsByType').toHaveLength(125))
    expect(result.children).toContain('error');
    // expect(wrapper.text()).toContain('value: 63.7');
})

